# ---
## Simple container with miniconda and the necessary libs to run the orange-spectroscopy package from orange3. 
## This container is meant to be used as a sandbox. Ubatuba has beautiful beaches with beautiful sand. Hence the name. 
## This container is built based on the continuum.io (miniconda3) docker image.
# ---
#
## build:
#
#    sudo singularity build --sandbox ubt ubt-container-singularity.def 
#
# ---

 
Bootstrap: docker
From: continuumio/miniconda3

%labels
    Maintainer bruno.carlos@lnls.br 
    Version 0.1

%post
    ln -fs /usr/share/zoneinfo/America/Sao_Paulo /etc/localtime
    apt-get -y update

    apt-get install -y qt5dxcb-plugin libqt5x11extras5 cmake gdb build-essential virtualenvwrapper fontconfig libxss1 libxv1 libgl1-mesa-glx libxkbcommon-x11-dev pkg-config libcanberra-gtk3-module libcanberra-gtk0 libcanberra-pulse colord cups-common bzr libgd-tools gvfs liblcms2-utils pciutils qt5-image-formats-plugins qtwayland5 librsvg2-bin python-setuptools-doc systemd-container virtualenvwrapper-doc

    wget https://sourceforge.net/projects/virtualgl/files/3.0.2/virtualgl_3.0.2_amd64.deb/download -0 vgl.deb && dpkg -i vgl.deb

    conda config --add channels conda-forge
    conda config --set channel_priority strict
    conda update -y conda
    conda install orange3 
